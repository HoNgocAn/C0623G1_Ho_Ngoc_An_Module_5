(()=>{var En=Object.create;var J=Object.defineProperty;var Ft=Object.getOwnPropertyDescriptor;var Pn=Object.getOwnPropertyNames,Kt=Object.getOwnPropertySymbols,Hn=Object.getPrototypeOf,$t=Object.prototype.hasOwnProperty,Rn=Object.prototype.propertyIsEnumerable;var Zt=(t,e,n)=>e in t?J(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,je=(t,e)=>{for(var n in e||(e={}))$t.call(e,n)&&Zt(t,n,e[n]);if(Kt)for(var n of Kt(e))Rn.call(e,n)&&Zt(t,n,e[n]);return t};var jn=t=>J(t,"__esModule",{value:!0}),o=(t,e)=>J(t,"name",{value:e,configurable:!0});var h=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var Bn=(t,e,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let r of Pn(e))!$t.call(t,r)&&r!=="default"&&J(t,r,{get:()=>e[r],enumerable:!(n=Ft(e,r))||n.enumerable});return t},D=t=>Bn(jn(J(t!=null?En(Hn(t)):{},"default",t&&t.__esModule&&"default"in t?{get:()=>t.default,enumerable:!0}:{value:t,enumerable:!0})),t),wt=(t,e,n,r)=>{for(var s=r>1?void 0:r?Ft(e,n):e,a=t.length-1,c;a>=0;a--)(c=t[a])&&(s=(r?c(e,n,s):c(s))||s);return r&&s&&J(e,n,s),s};var x=h((ko,Le)=>{var Jt,Yt,Qt,Xt,It,Nt,er,tr,rr,Be,xt,nr,ir,or,Y,sr,ar,cr,ur,lr,fr,dr,yr,pr,qe;(function(t){var e=typeof global=="object"?global:typeof self=="object"?self:typeof this=="object"?this:{};typeof define=="function"&&undefined?define("tslib",["exports"],function(r){t(n(e,n(r)))}):typeof Le=="object"&&typeof Le.exports=="object"?t(n(e,n(Le.exports))):t(n(e));function n(r,s){return r!==e&&(typeof Object.create=="function"?Object.defineProperty(r,"__esModule",{value:!0}):r.__esModule=!0),function(a,c){return r[a]=s?s(a,c):c}}o(n,"createExporter")})(function(t){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,s){r.__proto__=s}||function(r,s){for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(r[a]=s[a])};Jt=o(function(r,s){if(typeof s!="function"&&s!==null)throw new TypeError("Class extends value "+String(s)+" is not a constructor or null");e(r,s);function a(){this.constructor=r}o(a,"__"),r.prototype=s===null?Object.create(s):(a.prototype=s.prototype,new a)},"__extends"),Yt=Object.assign||function(r){for(var s,a=1,c=arguments.length;a<c;a++){s=arguments[a];for(var l in s)Object.prototype.hasOwnProperty.call(s,l)&&(r[l]=s[l])}return r},Qt=o(function(r,s){var a={};for(var c in r)Object.prototype.hasOwnProperty.call(r,c)&&s.indexOf(c)<0&&(a[c]=r[c]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,c=Object.getOwnPropertySymbols(r);l<c.length;l++)s.indexOf(c[l])<0&&Object.prototype.propertyIsEnumerable.call(r,c[l])&&(a[c[l]]=r[c[l]]);return a},"__rest"),Xt=o(function(r,s,a,c){var l=arguments.length,f=l<3?s:c===null?c=Object.getOwnPropertyDescriptor(s,a):c,d;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")f=Reflect.decorate(r,s,a,c);else for(var m=r.length-1;m>=0;m--)(d=r[m])&&(f=(l<3?d(f):l>3?d(s,a,f):d(s,a))||f);return l>3&&f&&Object.defineProperty(s,a,f),f},"__decorate"),It=o(function(r,s){return function(a,c){s(a,c,r)}},"__param"),Nt=o(function(r,s){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(r,s)},"__metadata"),er=o(function(r,s,a,c){function l(f){return f instanceof a?f:new a(function(d){d(f)})}return o(l,"adopt"),new(a||(a=Promise))(function(f,d){function m(T){try{p(c.next(T))}catch($){d($)}}o(m,"fulfilled");function _(T){try{p(c.throw(T))}catch($){d($)}}o(_,"rejected");function p(T){T.done?f(T.value):l(T.value).then(m,_)}o(p,"step"),p((c=c.apply(r,s||[])).next())})},"__awaiter"),tr=o(function(r,s){var a={label:0,sent:function(){if(f[0]&1)throw f[1];return f[1]},trys:[],ops:[]},c,l,f,d;return d={next:m(0),throw:m(1),return:m(2)},typeof Symbol=="function"&&(d[Symbol.iterator]=function(){return this}),d;function m(p){return function(T){return _([p,T])}}function _(p){if(c)throw new TypeError("Generator is already executing.");for(;a;)try{if(c=1,l&&(f=p[0]&2?l.return:p[0]?l.throw||((f=l.return)&&f.call(l),0):l.next)&&!(f=f.call(l,p[1])).done)return f;switch(l=0,f&&(p=[p[0]&2,f.value]),p[0]){case 0:case 1:f=p;break;case 4:return a.label++,{value:p[1],done:!1};case 5:a.label++,l=p[1],p=[0];continue;case 7:p=a.ops.pop(),a.trys.pop();continue;default:if(f=a.trys,!(f=f.length>0&&f[f.length-1])&&(p[0]===6||p[0]===2)){a=0;continue}if(p[0]===3&&(!f||p[1]>f[0]&&p[1]<f[3])){a.label=p[1];break}if(p[0]===6&&a.label<f[1]){a.label=f[1],f=p;break}if(f&&a.label<f[2]){a.label=f[2],a.ops.push(p);break}f[2]&&a.ops.pop(),a.trys.pop();continue}p=s.call(r,a)}catch(T){p=[6,T],l=0}finally{c=f=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}},"__generator"),rr=o(function(r,s){for(var a in r)a!=="default"&&!Object.prototype.hasOwnProperty.call(s,a)&&qe(s,r,a)},"__exportStar"),qe=Object.create?function(r,s,a,c){c===void 0&&(c=a);var l=Object.getOwnPropertyDescriptor(s,a);(!l||("get"in l?!s.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return s[a]}}),Object.defineProperty(r,c,l)}:function(r,s,a,c){c===void 0&&(c=a),r[c]=s[a]},Be=o(function(r){var s=typeof Symbol=="function"&&Symbol.iterator,a=s&&r[s],c=0;if(a)return a.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&c>=r.length&&(r=void 0),{value:r&&r[c++],done:!r}}};throw new TypeError(s?"Object is not iterable.":"Symbol.iterator is not defined.")},"__values"),xt=o(function(r,s){var a=typeof Symbol=="function"&&r[Symbol.iterator];if(!a)return r;var c=a.call(r),l,f=[],d;try{for(;(s===void 0||s-- >0)&&!(l=c.next()).done;)f.push(l.value)}catch(m){d={error:m}}finally{try{l&&!l.done&&(a=c.return)&&a.call(c)}finally{if(d)throw d.error}}return f},"__read"),nr=o(function(){for(var r=[],s=0;s<arguments.length;s++)r=r.concat(xt(arguments[s]));return r},"__spread"),ir=o(function(){for(var r=0,s=0,a=arguments.length;s<a;s++)r+=arguments[s].length;for(var c=Array(r),l=0,s=0;s<a;s++)for(var f=arguments[s],d=0,m=f.length;d<m;d++,l++)c[l]=f[d];return c},"__spreadArrays"),or=o(function(r,s,a){if(a||arguments.length===2)for(var c=0,l=s.length,f;c<l;c++)(f||!(c in s))&&(f||(f=Array.prototype.slice.call(s,0,c)),f[c]=s[c]);return r.concat(f||Array.prototype.slice.call(s))},"__spreadArray"),Y=o(function(r){return this instanceof Y?(this.v=r,this):new Y(r)},"__await"),sr=o(function(r,s,a){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var c=a.apply(r,s||[]),l,f=[];return l={},d("next"),d("throw"),d("return"),l[Symbol.asyncIterator]=function(){return this},l;function d(O){c[O]&&(l[O]=function(Z){return new Promise(function(bt,An){f.push([O,Z,bt,An])>1||m(O,Z)})})}function m(O,Z){try{_(c[O](Z))}catch(bt){$(f[0][3],bt)}}function _(O){O.value instanceof Y?Promise.resolve(O.value.v).then(p,T):$(f[0][2],O)}function p(O){m("next",O)}function T(O){m("throw",O)}function $(O,Z){O(Z),f.shift(),f.length&&m(f[0][0],f[0][1])}},"__asyncGenerator"),ar=o(function(r){var s,a;return s={},c("next"),c("throw",function(l){throw l}),c("return"),s[Symbol.iterator]=function(){return this},s;function c(l,f){s[l]=r[l]?function(d){return(a=!a)?{value:Y(r[l](d)),done:l==="return"}:f?f(d):d}:f}},"__asyncDelegator"),cr=o(function(r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var s=r[Symbol.asyncIterator],a;return s?s.call(r):(r=typeof Be=="function"?Be(r):r[Symbol.iterator](),a={},c("next"),c("throw"),c("return"),a[Symbol.asyncIterator]=function(){return this},a);function c(f){a[f]=r[f]&&function(d){return new Promise(function(m,_){d=r[f](d),l(m,_,d.done,d.value)})}}function l(f,d,m,_){Promise.resolve(_).then(function(p){f({value:p,done:m})},d)}},"__asyncValues"),ur=o(function(r,s){return Object.defineProperty?Object.defineProperty(r,"raw",{value:s}):r.raw=s,r},"__makeTemplateObject");var n=Object.create?function(r,s){Object.defineProperty(r,"default",{enumerable:!0,value:s})}:function(r,s){r.default=s};lr=o(function(r){if(r&&r.__esModule)return r;var s={};if(r!=null)for(var a in r)a!=="default"&&Object.prototype.hasOwnProperty.call(r,a)&&qe(s,r,a);return n(s,r),s},"__importStar"),fr=o(function(r){return r&&r.__esModule?r:{default:r}},"__importDefault"),dr=o(function(r,s,a,c){if(a==="a"&&!c)throw new TypeError("Private accessor was defined without a getter");if(typeof s=="function"?r!==s||!c:!s.has(r))throw new TypeError("Cannot read private member from an object whose class did not declare it");return a==="m"?c:a==="a"?c.call(r):c?c.value:s.get(r)},"__classPrivateFieldGet"),yr=o(function(r,s,a,c,l){if(c==="m")throw new TypeError("Private method is not writable");if(c==="a"&&!l)throw new TypeError("Private accessor was defined without a setter");if(typeof s=="function"?r!==s||!l:!s.has(r))throw new TypeError("Cannot write private member to an object whose class did not declare it");return c==="a"?l.call(r,a):l?l.value=a:s.set(r,a),a},"__classPrivateFieldSet"),pr=o(function(r,s){if(s===null||typeof s!="object"&&typeof s!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof r=="function"?s===r:r.has(s)},"__classPrivateFieldIn"),t("__extends",Jt),t("__assign",Yt),t("__rest",Qt),t("__decorate",Xt),t("__param",It),t("__metadata",Nt),t("__awaiter",er),t("__generator",tr),t("__exportStar",rr),t("__createBinding",qe),t("__values",Be),t("__read",xt),t("__spread",nr),t("__spreadArrays",ir),t("__spreadArray",or),t("__await",Y),t("__asyncGenerator",sr),t("__asyncDelegator",ar),t("__asyncValues",cr),t("__makeTemplateObject",ur),t("__importStar",lr),t("__importDefault",fr),t("__classPrivateFieldGet",dr),t("__classPrivateFieldSet",yr),t("__classPrivateFieldIn",pr)})});var ge=h(Q=>{"use strict";Object.defineProperty(Q,"__esModule",{value:!0});Q.compose=Q.CompositeTransducer=void 0;var Ce=class{constructor(e,n){this.a=e,this.b=n}async_(e){return this.b.async_(this.a.async_(e))}sync(e){return this.b.sync(this.a.sync(e))}};o(Ce,"CompositeTransducer");Q.CompositeTransducer=Ce;function qn(t,e){return new Ce(t,e)}o(qn,"compose");Q.compose=qn});var hr=h(Me=>{"use strict";Object.defineProperty(Me,"__esModule",{value:!0});Me.decompose=void 0;var Ln=ge();function*vt(t){t instanceof Ln.CompositeTransducer?(yield*vt(t.a),yield*vt(t.b)):yield t}o(vt,"decompose");Me.decompose=vt});var R=h(y=>{"use strict";Object.defineProperty(y,"__esModule",{value:!0});y.syncReturned=y.asyncReturned=y.isReturned=y.isYielded=y.AsyncIteratorHandler=y.by=y.toAsyncIterable=y.isArrayLike=y.asyncIterable=y.iterable=y.toIterable=y.isPromiseLike=y.isAsyncIterable=y.isIterable=y.value=y.key=y.comparators=y.descending=y.ascending=void 0;var q=x();function Ge(t,e){return t<e?-1:t>e?1:0}o(Ge,"ascending");y.ascending=Ge;function Cn(t,e){return t<e?1:t>e?-1:0}o(Cn,"descending");y.descending=Cn;function Mn(...t){return(e,n)=>{for(let r of t){let s=r(e,n);if(s!=0)return s}return 0}}o(Mn,"comparators");y.comparators=Mn;function Gn(t){return Object.assign(e=>e[t],{name:t})}o(Gn,"key");y.key=Gn;function zn(t){return e=>e[t]}o(zn,"value");y.value=zn;function Wn(t){return typeof t=="object"&&Symbol.iterator in t}o(Wn,"isIterable");y.isIterable=Wn;function Dn(t){return typeof t=="object"&&Symbol.asyncIterator in t}o(Dn,"isAsyncIterable");y.isAsyncIterable=Dn;function Vn(t){return typeof t=="object"&&"then"in t}o(Vn,"isPromiseLike");y.isPromiseLike=Vn;function Un(...t){return t}o(Un,"toIterable");y.toIterable=Un;function*Fn(t){for(let e=0;e<t.length;e++)yield t[e]}o(Fn,"iterable");y.iterable=Fn;function Kn(t){return q.__asyncGenerator(this,arguments,o(function*(){for(let n of t)yield yield q.__await(n)},"asyncIterable_1"))}o(Kn,"asyncIterable");y.asyncIterable=Kn;function $n(t){return typeof t=="object"&&typeof t.length=="number"}o($n,"isArrayLike");y.isArrayLike=$n;function Zn(t){return q.__asyncGenerator(this,arguments,o(function*(){yield yield q.__await(t)},"toAsyncIterable_1"))}o(Zn,"toAsyncIterable");y.toAsyncIterable=Zn;function Jn(t,e=Ge){return typeof t=="function"?Qn(t,e):Yn(t,e)}o(Jn,"by");y.by=Jn;function Yn(t,e=Ge){return(n,r)=>e(n[t],r[t])}o(Yn,"byKey");function Qn(t,e=Ge){return(n,r)=>e(t(n),t(r))}o(Qn,"byFn");var Ot=class{constructor(){this.handlers=[],this.state=[]}value(e){this.newState({value:e,done:!1})}error(e){this.newState(e)}close(e){this.newState({value:e,done:!0})}[Symbol.asyncIterator](){return this}next(){return new Promise((e,n)=>{this.newHandler([e,n])})}newState(e){let n=this.handlers.shift();if(typeof n=="undefined")return this.state.push(e);let r=this.state.shift();if(typeof r=="undefined")return this.consume(e,n);this.consume(r,n),this.newState(e)}newHandler(e){let n=this.state.shift();if(typeof n=="undefined")return this.handlers.push(e);let r=this.handlers.shift();if(typeof r=="undefined")return this.consume(n,e);this.consume(n,r),this.newHandler(e)}consume(e,[n,r]){e instanceof Error?r(e):n(e)}};o(Ot,"AsyncIteratorHandler");y.AsyncIteratorHandler=Ot;function Xn(t){return t&&typeof t=="object"&&"yielded"in t}o(Xn,"isYielded");y.isYielded=Xn;function In(t){return t&&typeof t=="object"&&"returned"in t}o(In,"isReturned");y.isReturned=In;function Nn(t){return q.__asyncGenerator(this,arguments,o(function*(){for(;;){let{value:n,done:r}=yield q.__await(t.next());if(r){yield yield q.__await({returned:n});break}else yield yield q.__await({yielded:n})}},"asyncReturned_1"))}o(Nn,"asyncReturned");y.asyncReturned=Nn;function*ei(t){for(;;){let{value:e,done:n}=t.next();if(n){yield{returned:e};break}else yield{yielded:e}}}o(ei,"syncReturned");y.syncReturned=ei});var mr=h(I=>{"use strict";Object.defineProperty(I,"__esModule",{value:!0});I.dedupe=I.DedupeTransducer=void 0;var X=x(),ti=R(),ze=class{constructor(e){this.comparator=e}async_(e){return X.__asyncGenerator(this,arguments,o(function*(){var r,s;let a;try{for(var c=X.__asyncValues(e),l;l=yield X.__await(c.next()),!l.done;){let f=l.value;typeof a=="undefined"?yield yield X.__await(f):this.comparator(f,a)!==0&&(yield yield X.__await(f)),a=f}}catch(f){r={error:f}}finally{try{l&&!l.done&&(s=c.return)&&(yield X.__await(s.call(c)))}finally{if(r)throw r.error}}},"async_1"))}*sync(e){let n;for(let r of e)typeof n=="undefined"?yield r:this.comparator(r,n)!==0&&(yield r),n=r}};o(ze,"DedupeTransducer");I.DedupeTransducer=ze;function ri(t=ti.ascending){return new ze(t)}o(ri,"dedupe");I.dedupe=ri});var gr=h(N=>{"use strict";Object.defineProperty(N,"__esModule",{value:!0});N.drop=N.DropTransducer=void 0;var be=x(),We=class{constructor(e){if(this.count=e,typeof e=="undefined")throw new Error("Count can not be undefined")}async_(e){return be.__asyncGenerator(this,arguments,o(function*(){var r,s;try{for(var a=be.__asyncValues(e),c;c=yield be.__await(a.next()),!c.done;){let l=c.value;--this.count<0&&(yield yield be.__await(l))}}catch(l){r={error:l}}finally{try{c&&!c.done&&(s=a.return)&&(yield be.__await(s.call(a)))}finally{if(r)throw r.error}}},"async_1"))}*sync(e){for(let n of e)--this.count<0&&(yield n)}};o(We,"DropTransducer");N.DropTransducer=We;function ni(t){return new We(t)}o(ni,"drop");N.drop=ni});var br=h(ee=>{"use strict";Object.defineProperty(ee,"__esModule",{value:!0});ee.dropWhile=ee.DropWhileTransducer=void 0;var we=x(),De=class{constructor(e){this.predicate=e}async_(e){return we.__asyncGenerator(this,arguments,o(function*(){var r,s;let a=!0;try{for(var c=we.__asyncValues(e),l;l=yield we.__await(c.next()),!l.done;){let f=l.value;a&&(a=this.predicate(f)),a||(yield yield we.__await(f))}}catch(f){r={error:f}}finally{try{l&&!l.done&&(s=c.return)&&(yield we.__await(s.call(c)))}finally{if(r)throw r.error}}},"async_1"))}*sync(e){let n=!0;for(let r of e)n&&(n=this.predicate(r)),n||(yield r)}};o(De,"DropWhileTransducer");ee.DropWhileTransducer=De;function ii(t){return new De(t)}o(ii,"dropWhile");ee.dropWhile=ii});var Ue=h(L=>{"use strict";Object.defineProperty(L,"__esModule",{value:!0});L.accept=L.filter=L.FilterTransducer=void 0;var xe=x(),Ve=class{constructor(e){this.predicate=e}async_(e){return xe.__asyncGenerator(this,arguments,o(function*(){var r,s;try{for(var a=xe.__asyncValues(e),c;c=yield xe.__await(a.next()),!c.done;){let l=c.value;this.predicate(l)&&(yield yield xe.__await(l))}}catch(l){r={error:l}}finally{try{c&&!c.done&&(s=a.return)&&(yield xe.__await(s.call(a)))}finally{if(r)throw r.error}}},"async_1"))}*sync(e){for(let n of e)this.predicate(n)&&(yield n)}};o(Ve,"FilterTransducer");L.FilterTransducer=Ve;function wr(t){return new Ve(t)}o(wr,"filter");L.filter=wr;L.accept=wr});var St=h(re=>{"use strict";Object.defineProperty(re,"__esModule",{value:!0});re.first=re.FirstTransducer=void 0;var te=x(),Fe=class{async_(e){return te.__asyncGenerator(this,arguments,o(function*(){var r,s;try{for(var a=te.__asyncValues(e),c;c=yield te.__await(a.next()),!c.done;){let l=c.value;return yield te.__await(yield yield te.__await(l))}}catch(l){r={error:l}}finally{try{c&&!c.done&&(s=a.return)&&(yield te.__await(s.call(a)))}finally{if(r)throw r.error}}},"async_1"))}*sync(e){for(let n of e)return yield n}};o(Fe,"FirstTransducer");re.FirstTransducer=Fe;function oi(){return new Fe}o(oi,"first");re.first=oi});var xr=h(Ke=>{"use strict";Object.defineProperty(Ke,"__esModule",{value:!0});Ke.find=void 0;var si=Ue(),ai=St(),ci=ge();function ui(t){return(0,ci.compose)((0,si.filter)(t),(0,ai.first)())}o(ui,"find");Ke.find=ui});var vr=h(ne=>{"use strict";Object.defineProperty(ne,"__esModule",{value:!0});ne.flatMap=ne.FlatMapTransducer=void 0;var V=x(),$e=class{constructor(e){this.mapper=e}async_(e){return V.__asyncGenerator(this,arguments,o(function*(){var r,s;try{for(var a=V.__asyncValues(e),c;c=yield V.__await(a.next()),!c.done;){let l=c.value;yield V.__await(yield*V.__asyncDelegator(V.__asyncValues(this.mapper(l))))}}catch(l){r={error:l}}finally{try{c&&!c.done&&(s=a.return)&&(yield V.__await(s.call(a)))}finally{if(r)throw r.error}}},"async_1"))}*sync(e){for(let n of e)yield*this.mapper(n)}};o($e,"FlatMapTransducer");ne.FlatMapTransducer=$e;function li(t){return new $e(t)}o(li,"flatMap");ne.flatMap=li});var Sr=h(C=>{"use strict";Object.defineProperty(C,"__esModule",{value:!0});C.transducer=C.identity=C.IdentityTransducer=void 0;var Ze=class{async_(e){return e}sync(e){return e}};o(Ze,"IdentityTransducer");C.IdentityTransducer=Ze;function Or(){return new Ze}o(Or,"identity");C.identity=Or;C.transducer=Or});var kt=h(ie=>{"use strict";Object.defineProperty(ie,"__esModule",{value:!0});ie.last=ie.LastTransducer=void 0;var ve=x(),Je=class{async_(e){return ve.__asyncGenerator(this,arguments,o(function*(){var r,s;let a;try{for(var c=ve.__asyncValues(e),l;l=yield ve.__await(c.next()),!l.done;)a=l.value}catch(f){r={error:f}}finally{try{l&&!l.done&&(s=c.return)&&(yield ve.__await(s.call(c)))}finally{if(r)throw r.error}}a!==void 0&&(yield yield ve.__await(a))},"async_1"))}*sync(e){let n;for(n of e);n!==void 0&&(yield n)}};o(Je,"LastTransducer");ie.LastTransducer=Je;function fi(){return new Je}o(fi,"last");ie.last=fi});var kr=h(oe=>{"use strict";Object.defineProperty(oe,"__esModule",{value:!0});oe.map=oe.MapTransducer=void 0;var Oe=x(),Ye=class{constructor(e){this.mapper=e}async_(e){return Oe.__asyncGenerator(this,arguments,o(function*(){var r,s;try{for(var a=Oe.__asyncValues(e),c;c=yield Oe.__await(a.next()),!c.done;){let l=c.value;yield yield Oe.__await(this.mapper(l))}}catch(l){r={error:l}}finally{try{c&&!c.done&&(s=a.return)&&(yield Oe.__await(s.call(a)))}finally{if(r)throw r.error}}},"async_1"))}*sync(e){for(let n of e)yield this.mapper(n)}};o(Ye,"MapTransducer");oe.MapTransducer=Ye;function di(t){return new Ye(t)}o(di,"map");oe.map=di});var _t=h(ae=>{"use strict";Object.defineProperty(ae,"__esModule",{value:!0});ae.scan=ae.ScanTransducer=void 0;var se=x(),Qe=class{constructor(e,n){this.reducer=e,this.seed=n}async_(e){return se.__asyncGenerator(this,arguments,o(function*(){var r,s;let a=this.seed;yield yield se.__await(a);try{for(var c=se.__asyncValues(e),l;l=yield se.__await(c.next()),!l.done;){let f=l.value;yield yield se.__await(a=this.reducer(a,f))}}catch(f){r={error:f}}finally{try{l&&!l.done&&(s=c.return)&&(yield se.__await(s.call(c)))}finally{if(r)throw r.error}}},"async_1"))}*sync(e){let n=this.seed;yield n;for(let r of e)yield n=this.reducer(n,r)}};o(Qe,"ScanTransducer");ae.ScanTransducer=Qe;function yi(t,e){return new Qe(t,e)}o(yi,"scan");ae.scan=yi});var _r=h(Xe=>{"use strict";Object.defineProperty(Xe,"__esModule",{value:!0});Xe.reduce=void 0;var pi=ge(),hi=kt(),mi=_t();function gi(t,e){return(0,pi.compose)((0,mi.scan)(t,e),(0,hi.last)())}o(gi,"reduce");Xe.reduce=gi});var Tr=h(Ie=>{"use strict";Object.defineProperty(Ie,"__esModule",{value:!0});Ie.reject=void 0;var bi=Ue();function wi(t){return new bi.FilterTransducer(e=>!t(e))}o(wi,"reject");Ie.reject=wi});var Ar=h(j=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0});j.sum=j.subtract=j.add=j.increment=void 0;function xi(t){return t+1}o(xi,"increment");j.increment=xi;function vi(t,e){return e===void 0?n=>t+n:t+e}o(vi,"add");j.add=vi;function Oi(t,e){return e===void 0?n=>n-t:t-e}o(Oi,"subtract");j.subtract=Oi;var Si=o((t,e)=>t+e,"sum");j.sum=Si});var tt=h(k=>{"use strict";Object.defineProperty(k,"__esModule",{value:!0});k.AsyncSequence=k.Sequence=k.sequence=k.range=k.repeat=k.iterate=void 0;var Tt=Ar(),At=R(),Er=ke();function*Ne(t,e){for(;;)yield e,e=t(e)}o(Ne,"iterate");k.iterate=Ne;function*ki(t){for(;;)yield t()}o(ki,"repeat");k.repeat=ki;function*_i(t,e,n=1){if(n===0)throw new Error("step can not be 0");if(e===void 0)yield*Ne((0,Tt.add)(n),t);else{let r=Math.abs(n);e<t?yield*Et(Ne((0,Tt.subtract)(r),t),(0,Er.takeWhile)(s=>s>=e)):yield*Et(Ne((0,Tt.add)(r),t),(0,Er.takeWhile)(s=>s<=e))}}o(_i,"range");k.range=_i;function Et(t,...e){return(0,At.isIterable)(t)?new Se(t,e):(0,At.isArrayLike)(t)?new Se((0,At.iterable)(t),e):new et(t,e)}o(Et,"sequence");k.sequence=Et;var Se=class{constructor(e,n){this.source=e,this.transducers=n}[Symbol.iterator](){return this.transducers.reduce((e,n)=>n.sync(e),this.source)[Symbol.iterator]()}};o(Se,"Sequence");k.Sequence=Se;var et=class{constructor(e,n){this.source=e,this.transducers=n}[Symbol.asyncIterator](){return this.transducers.reduce((e,n)=>n.async_(e),this.source)[Symbol.asyncIterator]()}};o(et,"AsyncSequence");k.AsyncSequence=et});var Rr=h(rt=>{"use strict";Object.defineProperty(rt,"__esModule",{value:!0});rt.single=void 0;var Pr=x(),Ti=R(),Hr=tt();function Ai(t,...e){return(0,Ti.isIterable)(t)?Ei((0,Hr.sequence)(t,...e)):Pi((0,Hr.sequence)(t,...e))}o(Ai,"single");rt.single=Ai;function Ei(t){for(let e of t)return e;throw new Error("Expected a single value")}o(Ei,"toSingle");function Pi(t){var e,n,r,s;return Pr.__awaiter(this,void 0,void 0,function*(){try{for(e=Pr.__asyncValues(t);n=yield e.next(),!n.done;)return n.value}catch(a){r={error:a}}finally{try{n&&!n.done&&(s=e.return)&&(yield s.call(e))}finally{if(r)throw r.error}}throw new Error("Expected a single value")})}o(Pi,"toSinglePromise")});var Pt=h(nt=>{"use strict";Object.defineProperty(nt,"__esModule",{value:!0});nt.array=void 0;var jr=x(),Br=R(),qr=tt();function Hi(t,...e){return(0,Br.isIterable)(t)||(0,Br.isArrayLike)(t)?Ri((0,qr.sequence)(t,...e)):ji((0,qr.sequence)(t,...e))}o(Hi,"array");nt.array=Hi;function Ri(t){let e=[];for(let n of t)e.push(n);return e}o(Ri,"toArray");function ji(t){var e,n,r,s;return jr.__awaiter(this,void 0,void 0,function*(){let a=[];try{for(e=jr.__asyncValues(t);n=yield e.next(),!n.done;){let c=n.value;a.push(c)}}catch(c){r={error:c}}finally{try{n&&!n.done&&(s=e.return)&&(yield s.call(e))}finally{if(r)throw r.error}}return a})}o(ji,"toPromiseArray")});var Cr=h(ce=>{"use strict";Object.defineProperty(ce,"__esModule",{value:!0});ce.sort=ce.SortTransducer=void 0;var _e=x(),Bi=R(),Lr=Pt(),it=class{constructor(e){this.comparator=e}async_(e){return _e.__asyncGenerator(this,arguments,o(function*(){let r=yield _e.__await((0,Lr.array)(e));r.sort(this.comparator),yield _e.__await(yield*_e.__asyncDelegator(_e.__asyncValues(r)))},"async_1"))}*sync(e){let n=(0,Lr.array)(e);n.sort(this.comparator),yield*n}};o(it,"SortTransducer");ce.SortTransducer=it;function qi(t=Bi.ascending){return new it(t)}o(qi,"sort");ce.sort=qi});var Mr=h(ue=>{"use strict";Object.defineProperty(ue,"__esModule",{value:!0});ue.take=ue.TakeTransducer=void 0;var U=x(),ot=class{constructor(e){if(this.count=e,typeof e=="undefined")throw new Error("Count can not be undefined")}async_(e){return U.__asyncGenerator(this,arguments,o(function*(){var r,s;if(this.count<1)return yield U.__await(void 0);try{for(var a=U.__asyncValues(e),c;c=yield U.__await(a.next()),!c.done;){let l=c.value;if(yield yield U.__await(l),--this.count<1)return yield U.__await(void 0)}}catch(l){r={error:l}}finally{try{c&&!c.done&&(s=a.return)&&(yield U.__await(s.call(a)))}finally{if(r)throw r.error}}},"async_1"))}*sync(e){if(!(this.count<1)){for(let n of e)if(yield n,--this.count<1)return}}};o(ot,"TakeTransducer");ue.TakeTransducer=ot;function Li(t){return new ot(t)}o(Li,"take");ue.take=Li});var Gr=h(fe=>{"use strict";Object.defineProperty(fe,"__esModule",{value:!0});fe.takeWhile=fe.TakeWhileTransducer=void 0;var le=x(),st=class{constructor(e){this.predicate=e}async_(e){return le.__asyncGenerator(this,arguments,o(function*(){var r,s;try{for(var a=le.__asyncValues(e),c;c=yield le.__await(a.next()),!c.done;){let l=c.value;if(this.predicate(l))yield yield le.__await(l);else return yield le.__await(void 0)}}catch(l){r={error:l}}finally{try{c&&!c.done&&(s=a.return)&&(yield le.__await(s.call(a)))}finally{if(r)throw r.error}}},"async_1"))}*sync(e){for(let n of e)if(this.predicate(n))yield n;else return}};o(st,"TakeWhileTransducer");fe.TakeWhileTransducer=st;function Ci(t){return new st(t)}o(Ci,"takeWhile");fe.takeWhile=Ci});var Wr=h(zr=>{"use strict";Object.defineProperty(zr,"__esModule",{value:!0})});var Ht=h(M=>{"use strict";Object.defineProperty(M,"__esModule",{value:!0});M.container=M.lazy=M.replace=void 0;function Dr(t,e,n){return Object.defineProperty(t,e,{value:n})}o(Dr,"replace");M.replace=Dr;function Vr(t,e,n){if(typeof n.get=="undefined")throw new Error("@lazy can only decorate getter methods");return Object.defineProperty(t,e,Object.assign(Object.assign({},n),{get(){return Dr(this,e,n.get.call(this))[e]}}))}o(Vr,"lazy");M.lazy=Vr;function Mi(t){return Object.keys(t).reduce((e,n)=>Vr(e,n,{configurable:!0,get:()=>t[n](e)}),{})}o(Mi,"container");M.container=Mi});var Yr=h(ct=>{"use strict";Object.defineProperty(ct,"__esModule",{value:!0});ct.AVLTree=void 0;var Ur=x(),at=R(),Fr=Ht(),H=class{constructor(e){this.comparator=e}static empty(e=at.ascending){return new Rt(e)}static create(e,n,r=at.ascending){let s=H.empty(r);return new A(r,e,n,s,s)}static of(e,n=at.ascending){return H.preSorted(e.sort((0,at.by)(0)),n,H.empty(n))}static preSorted(e,n,r){let s=e.length;switch(s){case 0:return r;case 1:{let[[a,c]]=e;return new A(n,a,c,r,r)}default:{let a=Math.floor(s/2),c=H.preSorted(e.slice(0,a),n,r),l=H.preSorted(e.slice(a+1),n,r),[f,d]=e[a];return new A(n,f,d,c,l)}}}};o(H,"AVLTree");ct.AVLTree=H;var Rt=class extends H{constructor(e){super(e);this.isEmpty=!0,this.height=0,this.balance=0}insert(e,n){return new A(this.comparator,e,n,this,this)}contains(e){return!1}lookup(e){}delete(e){return{tree:this}}first(){}last(){}removeFirst(){return{tree:this}}removeLast(){return{tree:this}}toString(){return""}*keys(){}*values(){}*entries(){return[]}};o(Rt,"Empty");var A=class extends H{constructor(e,n,r,s,a){super(e);this.key=n,this.value=r,this.left=s,this.right=a,this.isEmpty=!1}insert(e,n){let r=this.comparator(e,this.key);return r===0?new A(this.comparator,e,n,this.left,this.right):r<0?this.replaceLeft(this.left.insert(e,n)):this.replaceRight(this.right.insert(e,n))}contains(e){let n=this.comparator(e,this.key);return n===0?!0:n<0?this.left.contains(e):this.right.contains(e)}lookup(e){let n=this.comparator(e,this.key);return n===0?this.value:n<0?this.left.lookup(e):this.right.lookup(e)}delete(e){let n=this.comparator(e,this.key);if(n===0){if(this.left.isEmpty)return{tree:this.right,key:this.key,value:this.value};if(this.right.isEmpty)return{tree:this.left,key:this.key,value:this.value};let{tree:c,key:l,value:f}=this.left.removeLast();return{tree:jt(new A(this.comparator,l,f,c,this.right)),key:this.key,value:this.value}}if(n<0){let{tree:c,key:l,value:f}=this.left.delete(e);return{tree:this.replaceLeft(c),key:l,value:f}}let{tree:r,key:s,value:a}=this.right.delete(e);return{tree:this.replaceRight(r),key:s,value:a}}first(){return this.left.isEmpty?this.value:this.left.first()}last(){return this.right.isEmpty?this.value:this.right.last()}removeFirst(){if(this.left.isEmpty)return{tree:this.right,key:this.key,value:this.value};let{tree:e,key:n,value:r}=this.left.removeFirst();return{tree:this.replaceLeft(e),key:n,value:r}}removeLast(){if(this.right.isEmpty)return{tree:this.left,key:this.key,value:this.value};let{tree:e,key:n,value:r}=this.right.removeLast();return{tree:this.replaceRight(e),key:n,value:r}}replaceLeft(e){return jt(new A(this.comparator,this.key,this.value,e,this.right))}replaceRight(e){return jt(new A(this.comparator,this.key,this.value,this.left,e))}toString(){return`(${this.left} ${this.key}=${this.value} ${this.right})`}get balance(){return this.left.height-this.right.height}get height(){return Math.max(this.left.height,this.right.height)+1}*keys(){yield*this.left.keys(),yield this.key,yield*this.right.keys()}*values(){yield*this.left.values(),yield this.value,yield*this.right.values()}*entries(){yield*this.left.entries(),yield[this.key,this.value],yield*this.right.entries()}};o(A,"Node");Ur.__decorate([Fr.lazy],A.prototype,"balance",null);Ur.__decorate([Fr.lazy],A.prototype,"height",null);function jt(t){let e=t.balance;return e==-2?zi(t):e==2?Gi(t):t}o(jt,"balance");function Gi(t){let e=t.left.balance;return e==-1?Wi(t):e==1?Kr(t):t}o(Gi,"balanceLeft");function zi(t){let e=t.right.balance;return e==1?Di(t):e==-1?$r(t):t}o(zi,"balanceRight");function Kr(t){return Jr(t)}o(Kr,"balanceLeftLeft");function Wi(t){let e=Zr(t.left);return Kr(t.replaceLeft(e))}o(Wi,"balanceLeftRight");function $r(t){return Zr(t)}o($r,"balanceRightRight");function Di(t){let e=Jr(t.right);return $r(t.replaceRight(e))}o(Di,"balanceRightLeft");function Zr(t){let e=t.right,n=e.left,r=t.replaceRight(n);return e.replaceLeft(r)}o(Zr,"rotateLeft");function Jr(t){let e=t.left,n=e.right,r=t.replaceLeft(n);return e.replaceRight(r)}o(Jr,"rotateRight")});var Xr=h(de=>{"use strict";Object.defineProperty(de,"__esModule",{value:!0});de.unique=de.UniqueTransducer=void 0;var Te=x(),Vi=R(),Qr=Yr(),ut=class{constructor(e){this.comparator=e}async_(e){return Te.__asyncGenerator(this,arguments,o(function*(){var r,s;let a=Qr.AVLTree.empty(this.comparator);try{for(var c=Te.__asyncValues(e),l;l=yield Te.__await(c.next()),!l.done;){let f=l.value;a.contains(f)||(a=a.insert(f,void 0),yield yield Te.__await(f))}}catch(f){r={error:f}}finally{try{l&&!l.done&&(s=c.return)&&(yield Te.__await(s.call(c)))}finally{if(r)throw r.error}}},"async_1"))}*sync(e){let n=Qr.AVLTree.empty(this.comparator);for(let r of e)n.contains(r)||(n=n.insert(r,void 0),yield r)}};o(ut,"UniqueTransducer");de.UniqueTransducer=ut;function Ui(t=Vi.ascending){return new ut(t)}o(Ui,"unique");de.unique=Ui});var Ir=h(pe=>{"use strict";Object.defineProperty(pe,"__esModule",{value:!0});pe.WindowedTransducer=pe.windowed=void 0;var ye=x();function Fi(t,e=1,n=!1){return new lt(t,e,n)}o(Fi,"windowed");pe.windowed=Fi;var lt=class{constructor(e,n,r){this.size=e,this.step=n,this.remainder=r}async_(e){return ye.__asyncGenerator(this,arguments,o(function*(){var r,s;let a=[],c=0;try{for(var l=ye.__asyncValues(e),f;f=yield ye.__await(l.next()),!f.done;){let d=f.value;if(c>0){c--;continue}a.push(d),a.length===this.size&&(yield yield ye.__await([...a]),a=a.slice(this.step),this.step>this.size&&(c=this.step-this.size))}}catch(d){r={error:d}}finally{try{f&&!f.done&&(s=l.return)&&(yield ye.__await(s.call(l)))}finally{if(r)throw r.error}}this.remainder&&(yield yield ye.__await([...a]))},"async_1"))}*sync(e){let n=[],r=0;for(let s of e){if(r>0){r--;continue}n.push(s),n.length===this.size&&(yield[...n],n=n.slice(this.step),this.step>this.size&&(r=this.step-this.size))}this.remainder&&(yield[...n])}};o(lt,"WindowedTransducer");pe.WindowedTransducer=lt});var en=h(G=>{"use strict";Object.defineProperty(G,"__esModule",{value:!0});G.zipWithIndex=G.zip=G.ZipTransducer=void 0;var ft=x(),Nr=R(),Ki=tt(),Ae=class{constructor(e){this.other=e}async_(e){return ft.__asyncGenerator(this,arguments,o(function*(){if(!(0,Nr.isAsyncIterable)(this.other))throw new Error("Unsupported operation exception");let r=e[Symbol.asyncIterator](),s=this.other[Symbol.asyncIterator]();for(;;){let[a,c]=yield ft.__await(Promise.all([r.next(),s.next()]));if(a.done||c.done)return yield ft.__await(void 0);yield yield ft.__await([a.value,c.value])}},"async_1"))}*sync(e){if(!(0,Nr.isIterable)(this.other))throw new Error("Unsupported operation exception");let n=e[Symbol.iterator](),r=this.other[Symbol.iterator]();for(;;){let s=n.next(),a=r.next();if(s.done||a.done)return;yield[s.value,a.value]}}};o(Ae,"ZipTransducer");G.ZipTransducer=Ae;function $i(t){return new Ae(t)}o($i,"zip");G.zip=$i;function Zi(){return new Ae((0,Ki.range)(0))}o(Zi,"zipWithIndex");G.zipWithIndex=Zi});var ke=h(g=>{"use strict";Object.defineProperty(g,"__esModule",{value:!0});var b=x();b.__exportStar(ge(),g);b.__exportStar(hr(),g);b.__exportStar(mr(),g);b.__exportStar(gr(),g);b.__exportStar(br(),g);b.__exportStar(Ue(),g);b.__exportStar(xr(),g);b.__exportStar(St(),g);b.__exportStar(vr(),g);b.__exportStar(Sr(),g);b.__exportStar(kt(),g);b.__exportStar(kr(),g);b.__exportStar(_r(),g);b.__exportStar(Tr(),g);b.__exportStar(_t(),g);b.__exportStar(Rr(),g);b.__exportStar(Cr(),g);b.__exportStar(Mr(),g);b.__exportStar(Gr(),g);b.__exportStar(Wr(),g);b.__exportStar(Xr(),g);b.__exportStar(Ir(),g);b.__exportStar(en(),g)});var nn=h(me=>{"use strict";Object.defineProperty(me,"__esModule",{value:!0});me.caching=me.cache=void 0;function Xi(t,e,n){if(typeof n.value!="function")throw new Error("@cache can only decorate methods");let r=new WeakMap;function s(a){let c=r.get(a);if(c)return c;let l=new Map;return r.set(a,l),l}return o(s,"getCache"),Object.defineProperty(t,e,Object.assign(Object.assign({},n),{value:function(...a){let c=JSON.stringify(a),l=s(this),f=l.get(c);if(typeof f!="undefined"||l.has(c))return f;let d=n.value.call(this,...a);return l.set(c,d),d}}))}o(Xi,"cache");me.cache=Xi;function Ii(t){let e=new Map;return function(...n){let r=JSON.stringify(n),s=e.get(r);if(typeof s!="undefined"||e.has(r))return s;let a=t(...n);return e.set(r,a),a}}o(Ii,"caching");me.caching=Ii});var tn=D(ke()),Ji=D(R()),Yi=D(ke());function Qi(t){switch(typeof t){case"undefined":return!0;case"string":return t.trim()==="";case"number":return isNaN(t);case"object":{if(t==null)return!0;if(v.isObject(t))return Object.keys(t).length===0;if(Array.isArray(t))return t.length===0}}return!1}o(Qi,"isEmpty");var he=class{static noWhitespace(e){return e&&typeof e=="string"?e.replace(/\s+/g,""):""}static startWith(e,n){return e?e.substring(0,n.length)===n:e===n}static endsWith(e,n){return e.substring(e.length-n.length,e.length)===n}static isEmpty(e){return e===void 0||e===null?!0:e.trim().length===0}static isEmail(e){return typeof e=="string"&&this.validEmailPattern.test(e)}static isLowerCase(e){return e===e.toLowerCase()&&e!==e.toUpperCase()}static isUpperCase(e){return e===e.toUpperCase()&&e!==e.toLowerCase()}static kebabCase(e){return he.delimiterCase(e,"-")}static snakeCase(e){return he.delimiterCase(e,"_")}static delimiterCase(e,n){return e.replace(/([A-Z][a-z]+|\d+)/gm,`${n}$1`).replace(new RegExp(`^${n}`),"").toLowerCase()}static titleCase(e){return he.isEmpty(e)?"":e.replace(/\w\S*/g,n=>n.charAt(0).toUpperCase()+n.substr(1).toLowerCase())}static camelCase(e){return he.isEmpty(e)?"":e.replace(/([A-Za-z]+|\d+)/gm,n=>n.charAt(0).toUpperCase()+n.substr(1).toLowerCase()).replace(new RegExp("^."),n=>n.toLowerCase()).replace(new RegExp(/[_\-\s]/g),"")}},z=he;o(z,"Strings"),z.validEmailPattern=/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;function Ee(t,e,n){if(e(t))return n(t);switch(typeof t){case"undefined":return;case"object":{if(t===null)return null;if(Array.isArray(t))return t.map(r=>Ee(r,e,n));if(v.isObject(t))return v.keys(t).sort().reduce((r,s)=>{let a=t[s];return r[s]=Ee(a,e,n),r},{})}}return t}o(Ee,"walkValues");function dt(t,e){switch(typeof t){case"undefined":return;case"object":{if(t===null)return null;if(Array.isArray(t))return t.map(n=>dt(n,e));if(v.isObject(t))return v.keys(t).sort().reduce((n,r)=>{let s=t[r];return n[e(String(r))]=dt(s,e),n},{})}}return t}o(dt,"walkKeys");var v=class{static isObject(e){return e&&typeof e=="object"&&(e.constructor===Object||/Object.*native/.test(e.constructor.toString()))}static keys(e){return Object.keys(e)}static values(e){return Object.keys(e).map(n=>e[n])}static entries(e){return Object.keys(e).map(n=>[n,e[n]])}static removeEmpty(e){return e&&(v.isObject(e)?Object.keys(e).reduce((n,r)=>{let s=v.removeEmpty(e[r]);return Qi(s)||(n[r]=s),n},{}):e)}static sort(e){return e&&(Array.isArray(e)?e.map(v.sort):v.isObject(e)?Object.keys(e).sort().reduce((n,r)=>{let s=e[r];return n[r]=v.sort(s),n},{}):e)}static toLowerCase(e){return typeof e=="string"?e.toLowerCase():Array.isArray(e)?e.map(v.toLowerCase):w(()=>v.isObject(e))?Object.entries(e).reduce((n,[r,s])=>(n[r]=v.toLowerCase(s),n),{}):e}static snakeCase(e){return dt(e,z.snakeCase)}static camelCase(e){return dt(e,z.camelCase)}static filter(e,n){let r=v.keys(e).filter(n);return v.pick(e,...r)}static omit(e,...n){return n.reduce((r,s)=>(Reflect.deleteProperty(r,s),r),e)}static pick(e,...n){return n.reduce((r,s)=>(r[s]=e[s],r),{})}};o(v,"Objects");function w(t,e=void 0){try{let n=t();return typeof n=="undefined"?e:n}catch(n){return e}}o(w,"get");var B=(()=>typeof self!="undefined"?self:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof module!="undefined"?module:Function("return this")())();function rn(t,e,n){let r=t[e];return typeof r=="undefined"?t[e]=n:Array.isArray(r)?r.indexOf(n)==-1&&r.push(n):t[e]=[r,n],t}o(rn,"accumulateMultipleValues");function Pe(t=B){return t.triptease=t.triptease||{},t.triptease.onboard=t.triptease.onboard||{},{triptease:t.triptease,onboard:t.triptease.onboard}}o(Pe,"globalObjects");var Bt=class{constructor(e){let n=Bt.RFC_3986.exec(e);if(!n)throw new Error(`Invalid Uri: ${e}`);let[,,r,,s,a,,c,,l]=n;this.scheme=r,this.authority=s?new yt(s):void 0,this.path=a,this.query=c,this.fragment=l}toString(){let e=[];return typeof this.scheme!="undefined"&&e.push(this.scheme,":"),typeof this.authority!="undefined"&&e.push("//",this.authority.toString()),e.push(this.path),typeof this.query!="undefined"&&e.push("?",this.query),typeof this.fragment!="undefined"&&e.push("#",this.fragment),e.join("")}get host(){return this.authority&&this.authority.host}get port(){return this.authority&&this.authority.port}get userInfo(){return this.authority&&this.authority.userInfo}},S=Bt;o(S,"Uri"),S.RFC_3986=/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/;var qt=class{constructor(e){let n=qt.RFC_3986.exec(e);if(!n)throw new Error(`Invalid Authority: ${e}`);let[,r,s,a]=n;this.userInfo=r,this.host=s,this.port=a}toString(){let e=[];return typeof this.userInfo!="undefined"&&e.push(this.userInfo,"@"),typeof this.host!="undefined"&&e.push(this.host),typeof this.port!="undefined"&&e.push(":",this.port),e.join("")}},yt=qt;o(yt,"Authority"),yt.RFC_3986=/(?:([^@]+)@)?([^:]+)(?::([\d]+))?/;var on=D(nn()),sn=D(Ht());var F;(function(r){r.Native="native",r.NonNative="non-native",r.NotImplemented="not-implemented"})(F||(F={}));function an(t,e){return w(()=>e.split(".").reduce((n,r)=>n[r],t))}o(an,"getProperty");function Ni(t){return t==null?F.NotImplemented:typeof t=="function"?t.toString().includes("native code")?F.Native:F.NonNative:F.Native}o(Ni,"isNative");var pt=class{static exposeApi(){let e=Pe(B).triptease;e.native||(e.native=pt)}static getProperty(e){let n=an(B,e);return Ni(n)!==F.NonNative?n:an(pt.window,e)}static get window(){let e=B;if(!e.document)return e;try{let n=e.document,r=n.querySelector("[name='triptease.native']");if(r)return r.contentWindow;let s=n.createElement("iframe");return s.style.display="none",s.setAttribute("title","blank"),s.setAttribute("aria-hidden","true"),s.setAttribute("name","triptease.native"),n.documentElement.appendChild(s),s.contentWindow}catch(n){return e}}},E=pt;o(E,"Native"),wt([on.cache],E,"getProperty",1),wt([sn.lazy],E,"window",1);var eo=/^\d{4}-\d{2}-\d{2}(?:T\d{2}:\d{2}:\d{2}\.\d{3}Z)?$/;function to(t){return Ee(t,e=>typeof e=="string"&&eo.test(e),e=>{let n=new Date(e);return isNaN(n.valueOf())?e:n})}o(to,"convertDates");var ro=E.getProperty("JSON.parse"),no=E.getProperty("JSON.stringify"),io=E.getProperty("Date.prototype.toISOString"),K=class{static parse(e){return ro(e)}static parseWithDates(e){return to(K.parse(e))}static stringify(e){return no(this.clean(e))}static clean(e){return Ee(e,n=>{let r=typeof n;switch(r){case"undefined":case"string":case"number":case"boolean":return!0;case"object":{if(n===null)return!0;if(Array.isArray(n)||v.isObject(n))return!1;if("toJSON"in n)return!0}}throw new Error(`Illegal JsonValue: ${r} ${n} `)},n=>n instanceof Date?io.call(n):n)}static atob(e){return w(()=>K.parseWithDates(Buffer.from(e,"base64").toString("utf-8")))}static btoa(e){return w(()=>Buffer.from(JSON.stringify(e)).toString("base64"))}};o(K,"Json");function Lt(t,e=!0){return t?(t.indexOf("?")==0&&(t=t.substring(1,t.length)),t.split("&").map(function(n){return n.split("=")}).reduce(function(n,r){let s=r[0],a=r[1];if(!s)return n;let c=cn(a),l=e?oo(c):c;return rn(n,cn(s),l)},{})):{}}o(Lt,"queryObject");function cn(t){return w(()=>decodeURIComponent(t.replace(/\+/g,"%20")),t)}o(cn,"decode");function oo(t){try{return K.parse(t)}catch(e){return t}}o(oo,"coerce");var un=E.getProperty("console.log"),so=E.getProperty("console.error"),ao=E.getProperty("console.debug"),Ct=class{constructor(e=un,n=so,r=ao||un){this.log=e;this.error=n;this.debug=r}};o(Ct,"ConsoleLogger");var Mt=class{constructor(){this.log=o(()=>{},"log");this.error=o(()=>{},"error");this.debug=o(()=>{},"debug")}};o(Mt,"NoOpLogger");var ln="triptease-debug",co=256;function uo(t,e=ln){let n=w(()=>{var r;return Lt((r=t.location)==null?void 0:r.search,!1)[e]})||w(()=>{var r;return Lt(new S((r=t.location)==null?void 0:r.originalHref).query,!1)[e]})||w(()=>{var r,s;return(s=(r=t.process)==null?void 0:r.env)==null?void 0:s.DEBUG})||w(()=>{var r;return((r=t.localStorage)==null?void 0:r.getItem)&&t.localStorage.getItem(e)})||w(()=>{var r;return((r=t.sessionStorage)==null?void 0:r.getItem)&&t.sessionStorage.getItem(e)})||"";return w(()=>n.substring(0,co),"")}o(uo,"globalParameter");function lo(t){return uo(t,ln).split(",").map(e=>e.trim())}o(lo,"debugPatterns");function fn(t){let e=t.replace(/\./g,"\\.").replace(/\*/g,".*");return new RegExp("^"+e+"$")}o(fn,"wildcardToRegexp");function fo(t,e=B){try{let n=lo(e),r=n.filter(s=>s[0]==="!").map(s=>s.substr(1));return r.length>0?!r.some(s=>fn(s).test(t)):n.some(s=>s==="true"||fn(s).test(t))}catch(n){return!1}}o(fo,"nameMatches");var Gt=class{constructor(e){this.name=e;this.console=new Ct}debug(e,...n){this.console.debug(`[${this.name}] ${e}`,...n)}log(e,...n){this.console.log(`[${this.name}] ${e}`,...n)}error(e,...n){this.console.error(`[${this.name}] ${e}`,...n)}};o(Gt,"NamedLogger");function dn(t,e=B){return fo(t,e)?new Gt(t):new Mt}o(dn,"namedLogger");function P(t){return t&&w(()=>t instanceof HTMLAnchorElement,t.tagName==="A")}o(P,"isAnchor");function yn(t){return t&&w(()=>t instanceof HTMLInputElement,t.tagName==="INPUT")}o(yn,"isInput");function pn(t){return t&&w(()=>t instanceof HTMLButtonElement,t.tagName==="BUTTON")}o(pn,"isButton");function W(t){var n,r;if(P(t))return Array.from(t.relList);let e=t.form;return e?(r=(n=e.getAttribute("rel"))==null?void 0:n.split(/\s+/))!=null?r:[]:[]}o(W,"relList");function hn(t,e){if(P(t)){t.relList.contains(e)||t.relList.add(e);return}let n=t.form;if(!n)return;let r=new Set(W(t));r.add(e),n.setAttribute("rel",Array.from(r).join(" "))}o(hn,"addRel");function zt(t,e){if(P(t)){t.relList.remove(e);return}let n=t.form;if(!n)return;let r=new Set(W(t));r.delete(e),n.setAttribute("rel",Array.from(r).join(" "))}o(zt,"removeRel");var yo=new Set([null,"","_top","_parent","_self"]);function mn(t,e){if(P(t)){t.target=e;return}let n=t.form;if(!!n)return n.target=e}o(mn,"setTarget");function He(t){let e=t.target||t.getAttribute("target");return!yo.has(e)}o(He,"opensInNewWindow");var ht=class{static get(){return w(()=>{let e="7155.90396";return e?"v"+e:"latest"})}};o(ht,"Version");var po=ht.get();function ho(t){return`https://onboard.triptease.io/integrations/${po}/${t}.js`}o(ho,"onboard");function Wt(t){return typeof t!="string"?"":t.split(/[^A-Za-z0-9-]/)[0].replace(/-/g,"").toLowerCase()}o(Wt,"cleanName");var u=class{constructor(e){this.name=e;if(!/[A-Za-z0-9]/.test(e))throw new Error("Only alpha numeric allowed");u.Lookup.set(Wt(e),this)}static values(){return Array.from(u.Lookup.values())}static parse(e){let n=u.Lookup.get(Wt(e));if(!n)throw new Error(`Invalid booking engine name: ${e}`);return n}toString(){return this.name}get canonical(){return Wt(this.name)}get folder(){return this.isSelfIntegration()?u.Default.folder:this.isSelfIntegrationStrict()?u.DefaultStrict.folder:z.kebabCase(this.name)}get script(){return ho(this.folder)}isSelfIntegration(){return u.SelfIntegration.has(this)}isSelfIntegrationStrict(){return u.SelfIntegrationStrict.has(this)}},i=u;o(i,"IntegrationName"),i.Lookup=new Map,i.AboveProperty=new u("AboveProperty"),i.AfricaAlbida=new u("AfricaAlbida"),i.Alaric=new u("Alaric"),i.ARHotels=new u("ARHotels"),i.Ascott=new u("Ascott"),i.ASIWebRes=new u("ASIWebRes"),i.Auberge=new u("Auberge"),i.AvailPro=new u("AvailPro"),i.Avvio=new u("Avvio"),i.Ayana=new u("Ayana"),i.AZDS=new u("AZDS"),i.Azimut=new u("Azimut"),i.BestWesternFrance=new u("BestWesternFrance"),i.BestWesternItaly=new u("BestWesternItaly"),i.BestWesternUk=new u("BestWesternUk"),i.Bloom=new u("Bloom"),i.Bode=new u("Bode"),i.BookAssist=new u("BookAssist"),i.BookEasy=new u("BookEasy"),i.BookOnlineNow=new u("BookOnlineNow"),i.BookVisit=new u("BookVisit"),i.Booking=new u("Booking"),i.Booking2Hotels=new u("Booking2Hotels"),i.BookingExpert=new u("BookingExpert"),i.BrochnerHotels=new u("BrochnerHotels"),i.BusyRooms=new u("BusyRooms"),i.BWHHotelGroup=new u("BWHHotelGroup"),i.CapoBay=new u("CapoBay"),i.CityExpress=new u("CityExpress"),i.ClaytonHotel=new u("ClaytonHotel"),i.Clock=new u("Clock"),i.CloudBeds=new u("CloudBeds"),i.Cocotel=new u("Cocotel"),i.CompuRez=new u("CompuRez"),i.Comwell=new u("Comwell"),i.ConstanceHotels=new u("ConstanceHotels"),i.Default=new u("Default"),i.DefaultStrict=new u("DefaultStrict"),i.DerqueBooking=new u("DerqueBooking"),i.DeutscheHospitality=new u("DeutscheHospitality"),i.DoyleCollection=new u("DoyleCollection"),i.EasyBooking=new u("EasyBooking"),i.EasyConsulting=new u("EasyConsulting"),i.Erez=new u("Erez"),i.EGds=new u("EGds"),i.Evancy=new u("Evancy"),i.Everly=new u("Everly"),i.ExtendedStayAmerica=new u("ExtendedStayAmerica"),i.Ezee=new u("Ezee"),i.FastBooking=new u("FastBooking"),i.Firmdale=new u("Firmdale"),i.FourSeasons=new u("FourSeasons"),i.FrontDeskMaster=new u("FrontDeskMaster"),i.FullertonHotels=new u("FullertonHotels"),i.Furama=new u("Furama"),i.Generic=new u("Generic"),i.GlenEagles=new u("GlenEagles"),i.GothiaTowers=new u("GothiaTowers"),i.GuestCentric=new u("GuestCentric"),i.GuestDesk=new u("GuestDesk"),i.GuestLine=new u("GuestLine"),i.GuestPro=new u("GuestPro"),i.Guild=new u("Guild"),i.HamiltonIsland=new u("HamiltonIsland"),i.HamiltonIslandHolidayHomes=new u("HamiltonIslandHolidayHomes"),i.HandPickedHotels=new u("HandPickedHotels"),i.Hart=new u("Hart"),i.HHotels=new u("HHotels"),i.HighLevelSoftware=new u("HighLevelSoftware"),i.Hipotels=new u("Hipotels"),i.Hoteliers=new u("Hoteliers"),i.HoteliersGuru=new u("HoteliersGuru"),i.HotelNetSolutions=new u("HotelNetSolutions"),i.Hotetec=new u("Hotetec"),i.Hotusa=new u("Hotusa"),i.Hoxton=new u("Hoxton"),i.HtiSystems=new u("HtiSystems"),i.Hyatt=new u("Hyatt"),i.GHS=new u("GHS"),i.GuestRez=new u("GuestRez"),i.Iberostar=new u("Iberostar"),i.Infotera=new u("Infotera"),i.Inkaterra=new u("Inkaterra"),i.InnQuest=new u("InnQuest"),i.InnRoad=new u("InnRoad"),i.InnStyle=new u("InnStyle"),i.Iperbooking=new u("Iperbooking"),i.IRM=new u("IRM"),i.Kasa=new u("Kasa"),i.KeaHotels=new u("KeaHotels"),i.Kempinski=new u("Kempinski"),i.LatourHotelsAndResorts=new u("LatourHotelsAndResorts"),i.LHW=new u("LHW"),i.LifeHouse=new u("LifeHouse"),i.Loews=new u("Loews"),i.Lotte=new u("Lotte"),i.LumaHotels=new u("LumaHotels"),i.Mews=new u("Mews"),i.MillenniumHotels=new u("MillenniumHotels"),i.Mirai=new u("Mirai"),i.Namastay=new u("Namastay"),i.NativePlaces=new u("NativePlaces"),i.NeoBookings=new u("NeoBookings"),i.NHHotels=new u("NHHotels"),i.OKU=new u("OKU"),i.Omnibees=new u("Omnibees"),i.OneHotels=new u("OneHotels"),i.Opera=new u("Opera"),i.PalaceResorts=new u("PalaceResorts"),i.Paraty=new u("Paraty"),i.Pegasus=new u("Pegasus"),i.Pelican=new u("Pelican"),i.Phobs=new u("Phobs"),i.PointAHotels=new u("PointAHotels"),i.Prestige=new u("Prestige"),i.ProfitRoom=new u("ProfitRoom"),i.Protel=new u("Protel"),i.PursuitCollection=new u("PursuitCollection"),i.RedPlanet=new u("RedPlanet"),i.RegalHotels=new u("RegalHotels"),i.ReserveHotel=new u("ReserveHotel"),i.ReserveOnline=new u("ReserveOnline"),i.ReservationResources=new u("ReservationResources"),i.Reservit=new u("Reservit"),i.Reseze=new u("Reseze"),i.ResNexus=new u("ResNexus"),i.Retargeting=new u("Retargeting"),i.Reztrip=new u("Reztrip"),i.RGuest=new u("RGuest"),i.RMSCloud=new u("RMSCloud"),i.Roiback=new u("Roiback"),i.RoomKey=new u("RoomKey"),i.RoomMaster=new u("RoomMaster"),i.RoomSome=new u("RoomSome"),i.RoomStay=new u("RoomStay"),i.SandsVegas=new u("SandsVegas"),i.Sandrix=new u("Sandrix"),i.Sbe=new u("Sbe"),i.SeamillHydro=new u("SeamillHydro"),i.Seekda=new u("Seekda"),i.Selfbook=new u("Selfbook"),i.Shr=new u("Shr"),i.SimpleBooking=new u("SimpleBooking"),i.SiteMinder=new u("SiteMinder"),i.StationCasinos=new u("StationCasinos"),i.Stayntouch=new u("Stayntouch"),i.Synxis=new u("Synxis"),i.SysHotelOnline=new u("SysHotelOnline"),i.Taj=new u("Taj"),i.Travelanium=new u("Travelanium"),i.TravelClick=new u("TravelClick"),i.Uibscrs=new u("Uibscrs"),i.Up=new u("Up"),i.VacationMarbella=new u("VacationMarbella"),i.Valamar=new u("Valamar"),i.VerticalBooking=new u("VerticalBooking"),i.Viato=new u("Viato"),i.Vinpearl=new u("Vinpearl"),i.WebRezPro=new u("WebRezPro"),i.WestCordHotels=new u("WestCordHotels"),i.Youngs=new u("Youngs"),i.Zafiro=new u("Zafiro"),i.SelfIntegration=new Set([u.ClaytonHotel,u.HtiSystems]),i.SelfIntegrationStrict=new Set([u.ExtendedStayAmerica]);function gn(t){let e=w(()=>t.host.toLowerCase(),""),n=t.toString().toLowerCase();if(e==="gc.synxis.com")return i.Synxis;if(e==="be.synxis.com")return i.Synxis;if(e.indexOf("travelclick")!==-1)return i.TravelClick;if(e.indexOf("bookingbutton")!==-1||e.indexOf("book-directonline")!==-1||e.indexOf("direct-book.com")!==-1)return i.SiteMinder;if(e.indexOf(".hyatt.")!==-1)return i.Hyatt;if(e.indexOf(".bookonthenet.")!==-1)return i.RoomKey;if(e.indexOf("firmdalehotels")!==-1)return i.Firmdale;if(e.indexOf("apxhotelsapartments")!==-1||e.indexOf("mews.li")!==-1)return i.Mews;if(e.indexOf("guestline.net")!==-1||e.indexOf("roomlynx.net")!==-1)return i.GuestLine;if(e.indexOf("book-onlinenow.net")!==-1)return i.BookOnlineNow;if(e.indexOf("windsurfercrs.com")!==-1)return i.Shr;if(e.indexOf("bestwestern.fr")!==-1)return i.BestWesternFrance;if(n.indexOf("webrez.com")!==-1||e.indexOf("worldweb.com")!==-1||e.indexOf("webrez.com/v")!==-1)return i.WebRezPro;if(e.indexOf("hoteliers.com")!==-1)return i.Hoteliers;if(e.indexOf("doylecollection")!==-1)return i.DoyleCollection;if(n.indexOf("/bookcore/")!==-1)return i.Roiback;if(e.indexOf("nativeplaces.com")!==-1)return i.NativePlaces;if(n.indexOf("/cgi-bin/lansaweb")!==-1)return i.StationCasinos;if(e==="www.palms.com")return i.StationCasinos;if(e.indexOf(".webhotel.")!==-1)return i.Opera;if(e.indexOf("constancehotels.com")!==-1)return i.ConstanceHotels;if(e.indexOf("online.bookvisit.")!==-1)return i.BookVisit;if(e.indexOf("direct-reservation")!==-1)return i.BusyRooms;if(e.indexOf("youngshotels")!==-1)return i.Youngs;if(e.indexOf("loewshotels")!==-1)return i.Loews;if(n.indexOf("bookings.hamiltonisland.com.au/")!==-1||n.indexOf("bookings.qualia.com.au/")!==-1)return i.HamiltonIsland;if(e.indexOf("regalhotel")!==-1)return i.RegalHotels;if(e.indexOf("live.high-level-software")!==-1)return i.HighLevelSoftware;if(e.indexOf("premiereserve.com")!==-1||e.indexOf("teg-hotels.com")!==-1)return i.Everly;if(e.indexOf("simplebooking")!==-1||e.indexOf("booking.crimsonhotel")!==-1)return i.SimpleBooking;if(e.indexOf("bookassist.com")!==-1)return i.BookAssist;if(e.indexOf("booking.africaalbidatourism.com")!==-1)return i.AfricaAlbida;if(e.indexOf("onepagebooking.com")!==-1)return i.HotelNetSolutions;if(e.indexOf("reservhotel.com")!==-1)return i.ReserveHotel;if(n.indexOf("/irmng")!==-1)return i.IRM;if(e.indexOf("booking-channel.com")!==-1)return i.Hotusa;if(e.includes(".venetian.")||e.includes(".venetianlasvegas."))return i.SandsVegas;if(e.indexOf("clock-software.com")!==-1||e.indexOf("villasriomar.com")!==-1)return i.Clock;if(e.indexOf("tajinnercircle.com")!==-1||e.indexOf("tajhotels.com")!==-1)return i.Taj;if(e.indexOf("booking.iberostartheclub.com")!==-1)return i.Iberostar;if(e.indexOf("services.comwell.com")!==-1)return i.Comwell;if(e.indexOf(".profitroom.")!==-1)return i.ProfitRoom;if(e.indexOf("bookingexpert.it")!==-1)return i.BookingExpert;if(e.indexOf("cloud-reservations.net")!==-1)return i.Hart;if(e.indexOf("pr.palaceresorts.com")!==-1||e.indexOf("pr.moonpalace.com")!==-1||e.indexOf("pr.leblancsparesorts.com")!==-1||e.indexOf(".palaceelite.com")!==-1)return i.PalaceResorts;if(e.indexOf(".iqwebbook.com")!==-1)return i.InnQuest;if(e.indexOf("theguild.co")!==-1)return i.Guild;if(e.indexOf(".innroad.com")!==-1)return i.InnRoad;if(e.indexOf(".furama.com")!==-1)return i.Furama;if(e.indexOf(".reztrip.com")!==-1)return i.Reztrip;if(e.indexOf("nisekoportfolio.com")!==-1)return i.BookEasy;if(e.indexOf("azimuthotels")!==-1&&e.indexOf("reservations")===-1)return i.Azimut;if(e.indexOf(".steigenberger.com")!==-1||e.indexOf(".intercityhotel.com")!==-1||e.indexOf(".maxxhotel.com")!==-1||e.indexOf(".jaz-hotel.com")!==-1)return i.DeutscheHospitality;if(e.indexOf(".cloudbeds.com")!==-1)return i.CloudBeds;if(e.indexOf(".thehoxton.com")!==-1)return i.Hoxton;if(e.indexOf(".lottehotel.com")!==-1)return i.Lotte;if(e.indexOf("kempinski.com")!==-1)return i.Kempinski;if(e.indexOf("derquebooking")!==-1)return i.DerqueBooking;if(e.indexOf(".gfhoteles.")!==-1)return i.DerqueBooking;if(e.indexOf(".gleneagles.com")!==-1)return i.GlenEagles;if(e.indexOf(".redplanethotels.com")!==-1)return i.RedPlanet;if(e.indexOf(".banffjaspercollection.com")!==-1||e.indexOf(".glacierparkcollection.com")!==-1)return i.PursuitCollection;if(e.indexOf(".bestwestern.co.uk")!==-1)return i.BestWesternUk;if(e.indexOf(".sbe.com")!==-1)return i.Sbe;if(e.indexOf(".reserve-online.net")!==-1)return i.ReserveOnline;if(e.indexOf("secure-hotel-booking.com")!==-1)return i.AvailPro;if(e.indexOf(".syshotelonline.it")!==-1)return i.SysHotelOnline;if(e.indexOf(".reservit.com")!==-1)return i.Reservit;if(e.indexOf(".vinpearl.com")!==-1)return i.Vinpearl;if(e.indexOf(".omnibees.com")!==-1)return i.Omnibees;if(e.indexOf(".hipotels.com")!==-1)return i.Hipotels;if(e.indexOf(".handpickedhotels.co.uk")!==-1)return i.HandPickedHotels;if(e.indexOf("bookings.zafirohotels.com")!==-1)return i.Zafiro;if(e.indexOf(".viatocrs.de")!==-1)return i.Viato;if(e.indexOf(".easy-booking.")!==-1)return i.EasyBooking;if(e.indexOf(".ipms247.")!==-1||e.indexOf("reservas.hotelkokai.com")!==-1)return i.Ezee;if(e.indexOf(".innstyle.")!==-1)return i.InnStyle;if(e.indexOf(".book-secure.")!==-1)return i.FastBooking;if(e.indexOf(".cityexpress.")!==-1)return i.CityExpress;if(e.indexOf(".hoteleasyreservations.")!==-1)return i.EasyConsulting;if(e.indexOf(".travelanium.")!==-1)return i.Travelanium;if(e.indexOf(".e-gds.")!==-1)return i.EGds;if(e.indexOf(".booking.com")!==-1)return i.Booking;if(e.indexOf(".iperbooking.")!==-1)return i.Iperbooking;if(e.indexOf(".okuhotels.")!==-1)return i.OKU;if(e.indexOf(".pegsbe.")!==-1)return i.Pegasus;if(e.indexOf(".the-ascott.")!==-1||e.indexOf(".discoverasr.")!==-1)return i.Ascott;if(e.indexOf("kasa.")!==-1)return i.Kasa;if(e.indexOf("verticalbooking.")!==-1)return i.VerticalBooking;if(e.indexOf(".avvio.")!==-1)return i.Avvio;if(e.indexOf(".bestwestern.it")!==-1)return i.BestWesternItaly;if(e.indexOf("bookings.claytonhotel")!==-1)return i.ClaytonHotel;if(e.indexOf("extendedstayamerica.")!==-1)return i.ExtendedStayAmerica;if(e.indexOf(".fourseasons.")!==-1||e.indexOf(".fourseasonscountryclub.")!==-1||e.indexOf(".fsweb.")!==-1)return i.FourSeasons;if(e.indexOf(".hti-systems.")!==-1)return i.HtiSystems;if(e.indexOf("lhw.")!==-1)return i.LHW;if(e.indexOf("nh-hotels.")!==-1||e.indexOf(".nh-hoteles.")!==-1||e.indexOf("nh-collection.")!==-1)return i.NHHotels;if(e.indexOf(".h-hotels.")!==-1)return i.HHotels;if(e.indexOf(".gothiatowers.")!==-1||e.indexOf(".upperhouse.")!==-1)return i.GothiaTowers;if(e.indexOf(".1hotels.")!==-1)return i.OneHotels;if(e.indexOf(".asiwebres.")!==-1)return i.ASIWebRes;if(e.indexOf(".bwhhotelgroup.")!==-1)return i.BWHHotelGroup;if(e.indexOf(".frontdeskmaster.")!==-1)return i.FrontDeskMaster;if(e.indexOf(".evancy.")!==-1)return i.Evancy;if(e.indexOf(".brochner-hotels.")!==-1)return i.BrochnerHotels;if(e.indexOf(".welcome-anywhere.")!==-1)return i.RoomMaster;if(e.indexOf("staybloom.")!==-1)return i.Bloom;if(e.indexOf(".keahotels.")!==-1)return i.KeaHotels;if(e.indexOf("westcordhotels.")!==-1)return i.WestCordHotels;if(e.indexOf(".lumahotels.")!==-1)return i.LumaHotels;if(e.indexOf(".reservation-system.")!==-1||e.indexOf(".allhandsmarketing.")!==-1)return i.Pelican;if(e.indexOf(".pointahotels.")!==-1)return i.PointAHotels;if(e.indexOf(".capobay.")!==-1)return i.CapoBay;if(e.indexOf(".hamiltonislandholidayhomes.")!==-1)return i.HamiltonIslandHolidayHomes;if(e.indexOf(".hoteliers.guru")!==-1)return i.HoteliersGuru;if(e.indexOf(".reseze.")!==-1)return i.Reseze;if(e.indexOf(".aboveproperty.")!==-1)return i.AboveProperty;if(e.indexOf(".superghs.")!==-1)return i.GHS;if(e.indexOf(".rguest.")!==-1)return i.RGuest;if(e.indexOf(".ayana.")!==-1)return i.Ayana;if(e.indexOf("erez.")!==-1)return i.Erez;if(e.indexOf(".valamar.")!==-1)return i.Valamar;if(e.indexOf(".stayntouch.")!==-1)return i.Stayntouch;if(e.indexOf("resnexus.com")!==-1)return i.ResNexus;if(e.indexOf(".namastay.io")!==-1)return i.Namastay;if(e.indexOf("guestrez.")!==-1)return i.GuestRez;if(e.indexOf(".phobs.")!==-1)return i.Phobs;if(e.indexOf("reservationresources.")!==-1)return i.ReservationResources;if(e.indexOf(".millenniumhotels.")!==-1)return i.MillenniumHotels;if(e.indexOf("honeycomb.rt.triptease.io")!==-1||e.indexOf("b.triptease.io")!==-1)return i.Retargeting}o(gn,"bookingEngines");var bn=D(Pt()),wn=D(ke());function Dt(t){var e;return((e=t.host)==null?void 0:e.split("."))||[]}o(Dt,"parts");function xn(t,e){let n=Dt(t).reverse(),r=Dt(e).reverse(),s=0;for(let[a,c]of(0,bn.array)(n,(0,wn.zip)(r)))if(a===c)s++;else break;return s>=3?!0:s===2?[n[s],r[s]].filter(a=>![void 0,"www"].includes(a)).length<=1:!1}o(xn,"sameDomain");function Re(t){let[e]=Dt(t);return e}o(Re,"subdomain");var mo=new Set([void 0,i.Default]);function vn(t){return!mo.has(gn(t))}o(vn,"knownBookingEngine");function On(t,e){if(t.host===e.host)return!1;let n=xn(t,e);return!!(!n&&vn(e)||n&&go(e))}o(On,"isBookingEngineUrl");function go(t){let e=Re(t);return e&&(e.includes("book")||e.includes("reservation"))}o(go,"isBookingSubDomain");var bo=new Set(["book now","book","book room","book your stay","booking","check rates","check availability","cancel reservation","my reservations","reservations","reserve agora"]);function Sn(t){return mt(t).some(e=>bo.has(e))}o(Sn,"hasBookNowLabel");function Vt(t,e){let n=new S(e.href);return!!(On(t,n)||Sn(e))}o(Vt,"isBookingEngineAnchor");function Ut(t,e){let n=e.form;if(!n)return!1;let r=new S(e.formAction||e.getAttribute("formaction")||n.action);return!!(On(t,r)||Sn(e))}o(Ut,"isBookingEngineInput");function kn(t,e){return vn(t)?!1:P(e)?Vt(t,e):Ut(t,e)}o(kn,"isBookingEngineButton");function mt(t){return[t.innerText||t.textContent,t.value,t.title,t.getAttribute("alt")].filter(Boolean).map(e=>e.trim().toLowerCase())}o(mt,"labels");var wo=dn("cross-domain-tracking"),xo={preserveRel:!1,preserveTarget:!1},gt=class{constructor(e,n={}){this.window=e;this.eventHandler=o(e=>{try{(P(e.target)||yn(e.target)||pn(e.target))&&this.handleClick(e.target)}catch(n){wo.error("eventHandler threw error ",n)}},"eventHandler");this.config=je(je({},xo),n)}enable(){this.window.addEventListener("click",this.eventHandler,{capture:!0,passive:!0})}disable(){this.window.removeEventListener("click",this.eventHandler)}handleClick(e){this.matches(e)&&(this.handleOpener(e),this.handleReferrer(e),this.handleNewWindow(e))}matches(e){var r;if(this.config.customSelector)return!P(e)&&((r=e.form)==null?void 0:r.matches(this.config.customSelector))?!0:e.matches(this.config.customSelector);let n=new S(this.window.location.href);return kn(n,e)}handleOpener(e){let n=W(e);if(n.includes("noopener")){if(this.config.preserveRel)return;zt(e,"noopener")}n.includes("opener")||hn(e,"opener")}handleReferrer(e){var r;if(W(e).includes("noreferrer")){if(this.config.preserveRel)return;zt(e,"noreferrer")}P(e)?e.referrerPolicy="no-referrer-when-downgrade":(r=e.form)==null||r.setAttribute("referrerpolicy","no-referrer-when-downgrade")}handleNewWindow(e){He(e)||this.config.preserveTarget||mn(e,"_blank")}};o(gt,"CrossOriginTracking");function vo(t){let e=new S(t.href);return{type:t.tagName.toLowerCase(),uri:t.href,subdomain:Re(e),classList:Array.from(t.classList),relList:W(t),newWindow:He(t),target:t.getAttribute("target")||"_self",labels:mt(t)}}o(vo,"analyseAnchor");function Oo(t){let e=t.form;if(!e)return[];let n=new S(e.action);return[{type:t.tagName.toLowerCase(),uri:e.action,subdomain:Re(n),classList:[...Array.from(t.classList),...Array.from(e.classList)],relList:W(t),newWindow:He(e),target:e.getAttribute("target")||"_self",labels:mt(t)}]}o(Oo,"analyseInput");function _n(t){let e=new S(t.location.href),r=Array.from(t.document.querySelectorAll("a[href]")).filter(f=>Vt(e,f)).map(vo),a=Array.from(t.document.querySelectorAll("form[action] input[type=submit], form[action] button[type=submit]")).filter(f=>Ut(e,f)).flatMap(Oo),c=[...r,...a],l=c.reduce((f,d)=>Object.keys(f).reduce((m,_)=>(m[_]=m[_].concat(d[_]),m),f),{type:[],uri:[],subdomain:[],classList:[],relList:[],newWindow:[],target:[],labels:[]});return{data:c,summary:l}}o(_n,"findBookingButtons");var Tn=new gt(window);Pe(window).onboard.CrossOriginTracking=Tn;Pe(window).onboard.findBookingButtons=()=>_n(window);Tn.enable();})();
